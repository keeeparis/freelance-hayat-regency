---
import { Image } from 'astro:assets';
import { getImage } from 'astro/assets';

import Layout from '../layouts/Layout.astro';
import Footer from '@components/Footer';
import StartScreen from '@screens/StartScreen';
import AboutScreen from '@screens/AboutScreen';
import Exterior from '@screens/Exterior';
import Location from '@screens/Location';
import Places from '@screens/Places';
import Features from '@screens/Features';
import FlatPicker from '@screens/FlatPicker';
import Progress from '@screens/Progress';
import Developer from '@screens/Developer';
import CallbackForm from '@screens/CallbackForm';

import BgImage from '@assets/start-screen/bg.jpeg';
import LogoSmall from '@assets/start-screen/logo-small.png';

import SidebarImg from '@assets/sidebar/img.png';

import ArchTop from '@assets/arch/pic-top.png';
import ArchLeft from '@assets/arch/pic-left.png';
import ArchMainCenter from '@assets/arch/pic-main-center.png';
import ArchRight from '@assets/arch/pic-right.png';
import ArchBottomLeft from '@assets/arch/pic-bottom-left.png';
import ArchBottomRight from '@assets/arch/pic-bottom-right.png';
import ArchLeftMobile from '@assets/arch/pic-left-mobile.png'
import ArchBg from '@assets/arch/arch-3-bg-picture.png';
import ArchStoneball from '@assets/arch/picture-stoneball.png';
import ArchMetal from '@assets/arch/picture-metal.png';

import Slider1 from '@assets/exterior/carousel-picture-01.png';
import Slider2 from '@assets/exterior/carousel-picture-02.png';
import Slider3 from '@assets/exterior/carousel-picture-03.png';
import Slider4 from '@assets/exterior/carousel-picture-04.png';
import Slider5 from '@assets/exterior/carousel-picture-05.png';
import Slider6 from '@assets/exterior/carousel-picture-06.png';
import Slider7 from '@assets/exterior/carousel-picture-07.png';
import Slider8 from '@assets/exterior/carousel-picture-08.png';

import Place1 from '@assets/places/slider-picture-medeo-1.png';
import Place2 from '@assets/places/slider-picture-medeo-2.png';
import Place3 from '@assets/places/slider-picture-medeo-3.png';
import Place4 from '@assets/places/slider-picture-medeo-4.png';
import Place5 from '@assets/places/slider-picture-medeo-5.png';
import Place6 from '@assets/places/slider-picture-medeo-6.png';
import Place7 from '@assets/places/slider-picture-medeo-7.png';
import Place8 from '@assets/places/slider-picture-medeo-8.png';
import Place9 from '@assets/places/slider-picture-medeo-9.png';
import Place10 from '@assets/places/slider-picture-medeo-10.png';

import Feat1 from '@assets/features/picture-gym.png';
import Feat2 from '@assets/features/picture-kids.png';
import Feat3 from '@assets/features/picture-coworking.png';
import Feat4 from '@assets/features/picture-hamam.png';


// @ts-ignore
const optimizedBackground = await getImage({ src: BgImage, format: 'webp', quality: 'mid' });

function dpr(initial: number, increaseBy = 1.5) {
  return initial * increaseBy
}

---

<Layout>
  <StartScreen client:load>
    <!-- <Image src={optimizedBackground.src} slot="background" alt="background iamge" />   -->
    <!-- <img src={optimizedBackground2x.src} slot="background" alt="background image" srcset={`
      ${optimizedBackground1x.src} 400w, 
      ${optimizedBackground2x.src} 800w, 
      ${optimizedBackground3x.src} 1200w`}> -->
    <img src={optimizedBackground.src} slot="background" alt="background image">
    <Image src={LogoSmall} slot="logoSmall" alt="Logo small" quality="max" />
    <Image src={SidebarImg} slot="sidebarImage" width={680} height={368} alt="sidebar img" />
  </StartScreen>
  
  <AboutScreen>
    <Image src={ArchTop} slot="top" width={648} height={336} alt="top" quality="max" />
    <Image src={ArchLeft} slot="left" width={220} height={280} alt="left" quality="high" />
    <Image src={ArchLeftMobile} slot="leftMobile" width={240} height={328} alt="leftMobile" quality="max" />
    <Image src={ArchMainCenter} slot="mainCenter" width={576} height={324} alt="mainCenter" quality="max" />
    <Image src={ArchRight} slot="right" width={220} height={280} alt="right" quality="max" />
    <Image src={ArchBottomLeft} slot="bottomLeft" width={198} height={280} alt="bottomLeft" quality="max" />
    <Image src={ArchBottomRight} slot="bottomRight" width={546} height={320} alt="bottomRight" quality="max" />
    
    <Image src={ArchMainCenter} slot="bgArch2" quality="max" alt="bg-arch2" />
    
    <Image src={ArchBg} slot="bgArch3" width={816} height={810} alt="bg-arch3" />
    
    <Image src={ArchStoneball} slot="stoneball" width={205} height={202} alt="Stoneball" quality="max" />
    <Image src={ArchMetal} slot="metal" width={189} height={198} alt="Metal" quality={"max"} />
    
  </AboutScreen>
  
  <Exterior client:visible>
    <Image src={Slider1} slot="slider1" width={960} height={640} quality="max" alt="slider1" />
    <Image src={Slider2} slot="slider2" width={960} height={640} quality="max" alt="slider2" />
    <Image src={Slider3} slot="slider3" width={960} height={640} quality="max" alt="slider3" />
    <Image src={Slider4} slot="slider4" width={960} height={640} quality="max" alt="slider4" />
    <Image src={Slider5} slot="slider5" width={960} height={640} quality="max" alt="slider5" />
    <Image src={Slider6} slot="slider6" width={960} height={640} quality="max" alt="slider6" />
    <Image src={Slider7} slot="slider7" width={960} height={640} quality="max" alt="slider7" />
    <Image src={Slider8} slot="slider8" width={960} height={640} quality="max" alt="slider8" />
  </Exterior>
  
  <Location client:visible>
    
  </Location>
  
  <Places client:visible>
    <Image src={Place1} slot="Place1" width={dpr(560)} height={dpr(496)} quality="max" alt="Place1" />
    <Image src={Place2} slot="Place2" width={dpr(560)} height={dpr(560)} quality="max" alt="Place2" />
    <Image src={Place3} slot="Place3" width={dpr(560)} height={dpr(496)} quality="max" alt="Place3" />
    <Image src={Place4} slot="Place4" width={dpr(560)} height={dpr(560)} quality="max" alt="Place4" />
    <Image src={Place5} slot="Place5" width={dpr(560)} height={dpr(496)} quality="max" alt="Place5" />
    <Image src={Place6} slot="Place6" width={dpr(560)} height={dpr(560)} quality="max" alt="Place6" />
    <Image src={Place7} slot="Place7" width={dpr(560)} height={dpr(496)} quality="max" alt="Place7" />
    <Image src={Place8} slot="Place8" width={dpr(560)} height={dpr(560)} quality="max" alt="Place8" />
    <Image src={Place9} slot="Place9" width={dpr(560)} height={dpr(496)} quality="max" alt="Place9" />
    <Image src={Place10} slot="Place10" width={dpr(560)} height={dpr(560)} quality="max" alt="Place10" />
  </Places>
  
  <Features client:visible>
    <Image src={Feat1} slot="Feat1" width={dpr(824)} height={dpr(640)} quality="max" alt="Feat1" />
    <Image src={Feat2} slot="Feat2" width={dpr(824)} height={dpr(640)} quality="max" alt="Feat2" />
    <Image src={Feat3} slot="Feat3" width={dpr(824)} height={dpr(640)} quality="max" alt="Feat3" />
    <Image src={Feat4} slot="Feat4" width={dpr(824)} height={dpr(640)} quality="max" alt="Feat4" />
  </Features>

  <!-- renders on client due to rangeSlider library -->
  <FlatPicker client:only="react"></FlatPicker>

  <Progress client:visible></Progress>

  <Developer client:visible></Developer>

  <CallbackForm client:visible />

  <Footer />
</Layout>

<style>
</style>

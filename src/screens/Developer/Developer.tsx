import React, { useState } from 'react';

import { Navigation } from 'swiper/modules';
import { Swiper, SwiperSlide, useSwiper } from 'swiper/react';

import 'swiper/css';
import 'swiper/css/navigation';

import Button from '@components/Button';

import styles from './Developer.module.scss';

const PROJECTS = [
  {
    img: '/assets/developer/pic-1.png',
    name: 'hayat meliora',
    address: 'г. Алматы ',
    class: 'Премиум-класс',
    timeEnd: 'II квартал 2023'
  },
  {
    img: '/assets/developer/pic-2.png',
    name: 'hayat meliora',
    address: 'г. Алматы ',
    class: 'Премиум-класс',
    timeEnd: 'II квартал 2023'
  },
  {
    img: '/assets/developer/pic-3.png',
    name: 'hayat meliora',
    address: 'г. Алматы ',
    class: 'Премиум-класс',
    timeEnd: 'II квартал 2023'
  },
  {
    img: '/assets/developer/pic-4.png',
    name: 'hayat meliora',
    address: 'г. Алматы ',
    class: 'Премиум-класс',
    timeEnd: 'II квартал 2023'
  },
  {
    img: '/assets/developer/pic-5.png',
    name: 'hayat meliora',
    address: 'г. Алматы ',
    class: 'Премиум-класс',
    timeEnd: 'II квартал 2023'
  }
];

export const Developer = () => {
  const [_activeIndex, setActiveIndex] = useState(1);

  return (
    <>
      <div className={styles.dev}>
        <div className={styles.dev_head}>
          <p>о застройщике</p>
          <svg xmlns="http://www.w3.org/2000/svg" width="248" height="98" viewBox="0 0 248 98" fill="none">
            <g clipPath="url(#clip0_119_5140)">
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M51.4822 39.3686H54.1032V32.2324H57.0846V39.3686H59.7522V22.7144H57.0846V29.8525H54.1032V22.7144H51.4822V39.3686ZM80.8925 34.0845H78.3665L79.6286 25.6616L80.8925 34.0845ZM81.7028 39.3686H84.3472L81.6795 22.7126H77.8412L75.1718 39.3686H77.5813L78.033 36.3481H81.251L81.7028 39.3686ZM97.7427 22.7126L101.056 33.8483V39.3686H103.677V33.8483L106.992 22.7126H104.487L102.486 30.3034L100.484 22.7126H97.7427ZM126.106 34.0845H123.578L124.844 25.6616L126.106 34.0845ZM126.916 39.3686H129.562L126.893 22.7126H123.055L120.385 39.3686H122.793L123.247 36.3481H126.465L126.916 39.3686ZM151.418 22.7126H143.313V25.0908H146.056V39.3668H148.675V25.0908H151.418V22.7126ZM127.927 84.2626C127.435 83.7022 126.7 83.3824 125.673 83.3824H122.749V96.7958H124.145V91.5082H125.456C126.545 91.5082 127.351 91.2245 127.891 90.6607C128.431 90.1003 128.689 89.2717 128.689 88.1802V86.7843C128.689 85.7392 128.458 84.8676 127.927 84.2626ZM126.868 89.7359C126.581 90.0367 126.116 90.1759 125.456 90.1759H124.145V84.7129H125.673C126.288 84.7129 126.692 84.8986 126.934 85.2252C127.19 85.5707 127.293 86.0899 127.293 86.7276V88.2335C127.293 88.94 127.158 89.4333 126.868 89.7359ZM106.807 95.0596C106.501 94.6729 106.375 94.0884 106.375 93.4128V83.3824H104.979V93.3785C104.979 94.4116 105.22 95.3278 105.76 95.969C106.254 96.5552 106.986 96.9076 107.993 96.9076C109 96.9076 109.728 96.5552 110.218 95.9724C110.757 95.3278 110.991 94.4116 110.991 93.3785V83.3824H109.651V93.4128C109.651 94.0884 109.523 94.6729 109.219 95.0596C108.966 95.3811 108.575 95.5753 108.013 95.5753C107.451 95.5753 107.06 95.3811 106.807 95.0596ZM87.9372 84.2144C87.3905 84.8505 87.1343 85.7581 87.1343 86.8033V93.3767C87.1343 94.4202 87.3905 95.3278 87.9372 95.9638C88.4462 96.5569 89.1945 96.9058 90.2041 96.9058C91.2291 96.9058 91.9858 96.5569 92.5 95.9673C93.0552 95.3312 93.3115 94.4219 93.3115 93.3767V86.8033C93.3115 85.7564 93.0552 84.847 92.5 84.2093C91.9858 83.6196 91.2291 83.2724 90.2041 83.2724C89.1945 83.2724 88.4462 83.6214 87.9372 84.2144ZM88.969 95.0596C88.6632 94.6797 88.53 94.1056 88.53 93.43V86.7482C88.53 86.0727 88.6632 85.4985 88.969 85.1186C89.2304 84.7954 89.6318 84.6029 90.2041 84.6029C90.7866 84.6029 91.1983 84.7972 91.4665 85.1221C91.7774 85.502 91.9158 86.0744 91.9158 86.7482V93.43C91.9158 94.1039 91.7774 94.6763 91.4648 95.0579C91.1983 95.3828 90.7866 95.5753 90.2041 95.5753C89.6318 95.5753 89.2304 95.3845 88.969 95.0596ZM74.5236 84.2454C74.0299 83.6867 73.2749 83.3824 72.214 83.3824H69.2706V96.7958H70.668V91.0492H71.7203C72.3934 91.0492 72.9332 91.1523 73.292 91.4394C73.6404 91.7179 73.8352 92.1958 73.8352 92.9539V94.9737C73.8352 95.333 73.8489 95.6372 73.8933 95.9071C73.9411 96.1908 74.0214 96.4331 74.1461 96.6549L74.2264 96.7958H75.7707L75.494 96.3644C75.3812 96.1908 75.3146 95.9724 75.2787 95.7404C75.2394 95.498 75.2309 95.2298 75.2309 94.9737V92.9711C75.2309 92.2198 75.084 91.5855 74.7543 91.0905C74.5476 90.781 74.2725 90.5301 73.9223 90.3444C74.2554 90.1674 74.5253 89.9301 74.732 89.6276C75.0686 89.1394 75.2309 88.4948 75.2309 87.6834V86.566C75.2309 85.5879 75.0122 84.7989 74.5236 84.2454ZM73.3159 89.3508C72.9674 89.6276 72.4293 89.7187 71.7408 89.7187H70.668V84.7129H72.1969C72.7983 84.7129 73.2082 84.8848 73.4594 85.1943C73.7207 85.5191 73.8352 86.0108 73.8352 86.6365V87.8484C73.8352 88.6151 73.6524 89.0844 73.3159 89.3508ZM57.55 88.0392V86.8015C57.55 85.7615 57.3057 84.8487 56.7642 84.2093C56.2654 83.6231 55.5291 83.2741 54.5178 83.2741C53.5048 83.2741 52.7668 83.6231 52.2697 84.2093C51.7264 84.8487 51.4821 85.7615 51.4821 86.8015V93.3767C51.4821 94.4167 51.7264 95.3295 52.268 95.969C52.7668 96.5569 53.5031 96.9058 54.5178 96.9058C55.5291 96.9058 56.2671 96.5569 56.7642 95.969C57.3057 95.3295 57.55 94.4167 57.55 93.3767V89.607H54.4939V90.9392H56.1902V93.43C56.1902 94.097 56.0604 94.6694 55.7563 95.0493C55.5018 95.3673 55.1054 95.5564 54.5366 95.5564C53.966 95.5564 53.5697 95.3673 53.3134 95.0493C53.0094 94.6694 52.8795 94.097 52.8795 93.43V86.7465C52.8795 86.0778 53.0094 85.5002 53.3151 85.1169C53.5714 84.7954 53.9694 84.6029 54.5366 84.6029C55.102 84.6029 55.4983 84.7954 55.7546 85.1169C56.0604 85.5002 56.1902 86.0778 56.1902 86.7465V88.0392H57.55ZM242.075 71.0623H243.119H243.397V60.9631L246.92 71.0623H248.326V57.6506H247V67.1584L243.645 57.6506H242.075V71.0623ZM224.999 58.4826C224.452 59.1186 224.194 60.028 224.194 61.0714V67.6432C224.194 68.6866 224.452 69.5943 224.997 70.2303C225.506 70.8234 226.254 71.1723 227.264 71.1723C228.289 71.1723 229.046 70.8234 229.56 70.2337C230.113 69.5977 230.371 68.6884 230.371 67.6432V61.0714C230.371 60.0246 230.113 59.1152 229.56 58.4774C229.046 57.8878 228.289 57.5389 227.264 57.5389C226.254 57.5389 225.506 57.8895 224.999 58.4826ZM226.031 69.3278C225.723 68.9479 225.59 68.3738 225.59 67.6982V61.0147C225.59 60.3408 225.723 59.7667 226.029 59.3868C226.29 59.0636 226.692 58.8728 227.264 58.8728C227.847 58.8728 228.257 59.0653 228.526 59.3902C228.837 59.7719 228.976 60.3426 228.976 61.0147V67.6982C228.976 68.3721 228.837 68.9445 228.526 69.3227C228.257 69.6493 227.847 69.8418 227.264 69.8418C226.692 69.8418 226.29 69.651 226.031 69.3278ZM211.075 71.0623H212.193H212.472V57.6506H211.075V71.0623ZM195.714 58.9794V70.7821V71.0623H197.109V58.9794H199.718V57.6506H193.122V58.9794H195.714ZM181.875 62.414V61.0714C181.875 60.0314 181.63 59.1169 181.089 58.4774C180.59 57.8913 179.854 57.5406 178.842 57.5406C177.829 57.5406 177.091 57.8895 176.594 58.4774C176.053 59.1152 175.808 60.0297 175.808 61.0714V67.6432C175.808 68.6832 176.053 69.596 176.594 70.2355C177.091 70.8216 177.829 71.1706 178.842 71.1706C179.854 71.1706 180.59 70.8216 181.089 70.2355C181.63 69.5943 181.875 68.6815 181.875 67.6432V65.8967H180.515V67.6982C180.515 68.3669 180.385 68.9376 180.081 69.3158C179.825 69.6355 179.428 69.8246 178.859 69.8246C178.291 69.8246 177.893 69.6355 177.636 69.3158C177.334 68.9376 177.204 68.3669 177.204 67.6982V61.0147C177.204 60.346 177.334 59.7684 177.638 59.3851C177.896 59.0636 178.292 58.8728 178.859 58.8728C179.425 58.8728 179.823 59.0636 180.079 59.3868C180.385 59.7684 180.515 60.346 180.515 61.0147V62.414H181.875ZM159.918 69.3261C159.616 68.9393 159.487 68.3531 159.487 67.6793V57.6506H158.092V67.6432C158.092 68.6763 158.333 69.5943 158.872 70.2355C159.366 70.8216 160.099 71.174 161.107 71.174C162.115 71.174 162.843 70.8234 163.331 70.2372C163.869 69.5943 164.105 68.6763 164.105 67.6432V57.6506H162.764V67.6793C162.764 68.3531 162.636 68.9393 162.332 69.3261C162.081 69.6493 161.689 69.8418 161.126 69.8418C160.562 69.8418 160.171 69.6493 159.918 69.3261ZM145.461 58.5135C144.967 57.9549 144.215 57.6506 143.153 57.6506H140.211V71.0623H141.607V65.3139H142.659C143.33 65.3139 143.872 65.4188 144.231 65.7076C144.577 65.9861 144.774 66.464 144.774 67.222V69.2402C144.774 69.6011 144.789 69.9054 144.832 70.1736C144.878 70.4589 144.958 70.7013 145.083 70.9213L145.165 71.0623H146.711L146.431 70.6308C146.32 70.4572 146.253 70.2406 146.217 70.0085C146.176 69.7662 146.17 69.498 146.17 69.2402V67.2392C146.17 66.4863 146.021 65.8537 145.693 65.3586C145.486 65.0475 145.211 64.7965 144.859 64.6126C145.194 64.4355 145.462 64.1966 145.671 63.8958C146.007 63.4058 146.17 62.7595 146.17 61.9498V60.8308C146.17 59.8544 145.951 59.0653 145.461 58.5135ZM144.255 63.6173C143.906 63.894 143.368 63.9851 142.68 63.9851H141.607V58.9794H143.136C143.739 58.9794 144.147 59.1496 144.396 59.4607C144.659 59.7856 144.774 60.279 144.774 60.9047V62.1149C144.774 62.8833 144.591 63.3526 144.255 63.6173ZM124.847 58.9794V70.7821V71.0623H126.244V58.9794H128.853V57.6506H122.257V58.9794H124.847ZM111.009 61.5871V61.0336C111.009 59.9953 110.77 59.0946 110.237 58.462C109.747 57.8827 109.018 57.5406 108.01 57.5406C107.014 57.5509 106.277 57.8844 105.78 58.4671C105.263 59.0774 105.017 59.9541 105.017 61.0147C105.017 63.0107 106.317 63.9631 107.566 64.8788L107.569 64.8807L107.573 64.8836C108.622 65.6527 109.633 66.3934 109.633 67.7343C109.633 68.3996 109.504 68.9599 109.204 69.3261C108.948 69.6407 108.549 69.8246 107.975 69.8246C107.403 69.8246 107.003 69.6407 106.747 69.3261C106.448 68.9599 106.318 68.3996 106.318 67.7343V66.7373H104.96V67.681C104.96 68.7193 105.205 69.6201 105.744 70.2509C106.242 70.832 106.98 71.174 107.994 71.174C109.009 71.174 109.747 70.832 110.244 70.2492C110.786 69.6201 111.028 68.7176 111.028 67.681C111.028 65.711 109.742 64.7673 108.495 63.8562C107.436 63.0809 106.411 62.3297 106.411 60.9597C106.411 60.3013 106.537 59.7392 106.833 59.3679C107.082 59.0568 107.472 58.8711 108.03 58.8711C108.589 58.8711 108.977 59.0585 109.224 59.3713C109.523 59.7478 109.65 60.3168 109.65 60.9786V61.5871H111.009ZM87.0625 71.0623H88.1063H88.3848V60.9631L91.9055 71.0623H93.3115V57.6506H91.9893V67.1584L88.6307 57.6506H87.0625V71.0623ZM69.9847 58.4809C69.4397 59.1169 69.1818 60.0263 69.1818 61.0714V67.6432C69.1818 68.6866 69.4397 69.5943 69.9847 70.2303C70.4938 70.8234 71.2403 71.1723 72.2499 71.1723C73.2749 71.1723 74.0334 70.8234 74.5476 70.2337C75.101 69.596 75.359 68.6884 75.359 67.6432V61.0714C75.359 60.0246 75.101 59.1152 74.5476 58.4774C74.0334 57.8878 73.2749 57.5389 72.2499 57.5389C71.2403 57.5389 70.4938 57.8895 69.9847 58.4809ZM71.0148 69.3261C70.709 68.9479 70.5758 68.3738 70.5758 67.6982V61.0147C70.5758 60.3408 70.709 59.7667 71.0148 59.3868C71.2745 59.0636 71.6776 58.8728 72.2499 58.8728C72.8324 58.8728 73.2441 59.0653 73.5123 59.3902C73.8232 59.7701 73.9616 60.3426 73.9616 61.0147V67.6982C73.9616 68.3703 73.8232 68.9445 73.5106 69.3244C73.2458 69.6493 72.8324 69.8418 72.2499 69.8418C71.6776 69.8418 71.2762 69.651 71.0148 69.3261ZM57.55 62.414V61.0714C57.55 60.0297 57.3057 59.1169 56.7642 58.4774C56.2654 57.8913 55.5291 57.5406 54.5178 57.5406C53.5031 57.5406 52.7668 57.8895 52.2697 58.4774C51.7264 59.1169 51.4821 60.0314 51.4821 61.0714V67.6432C51.4821 68.6832 51.7264 69.596 52.268 70.2355C52.7668 70.8216 53.5031 71.1706 54.5178 71.1706C55.5291 71.1706 56.2671 70.8216 56.7642 70.2355C57.3057 69.596 57.55 68.6815 57.55 67.6432V65.8967H56.1902V67.6982C56.1902 68.3669 56.0604 68.9393 55.7563 69.3158C55.5018 69.6355 55.1037 69.8246 54.5366 69.8246C53.966 69.8246 53.5697 69.6355 53.3117 69.3158C53.0077 68.9393 52.8795 68.3669 52.8795 67.6982V61.0147C52.8795 60.346 53.0094 59.7684 53.3151 59.3851C53.5714 59.0636 53.9677 58.8728 54.5366 58.8728C55.102 58.8728 55.4983 59.0636 55.7546 59.3868C56.0604 59.7684 56.1902 60.346 56.1902 61.0147V62.414H57.55Z"
                fill="#D6CBB4"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M9.08508 60.5672H0V0H9.08508V60.5672ZM9.08508 83.2799H0V65.1098H9.08508V83.2799ZM27.2553 60.5672H18.1702V22.7127H27.2553V60.5672ZM27.2553 96.9076H18.1702V65.1098H27.2553V96.9076Z"
                fill="#CDA462"
              />
            </g>
            <defs>
              <clipPath id="clip0_119_5140">
                <rect width="248" height="98" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </div>
        <div className={styles.dev_text}>
          <p>
            Строительная компания Hayat Construction Group начала свою деятельность в 2018 году, с тех пор были успешно
            реализованы многие проекты, каждый из которых попал в точку – сумел ответить потребностям современного
            жителя. В наших проектах.
          </p>
          <p>мы делаем ставку на качество, ищем нестандартные решения и работаем над улучшением жизни казахстанцев.</p>
          <Button transparent gold_border>
            перейти на сайт застройщика
          </Button>
        </div>
      </div>

      <Swiper
        modules={[Navigation]}
        slidesPerView={1}
        spaceBetween={16}
        className={styles.slider}
        onSlideChange={swiper => {
          setActiveIndex(swiper.realIndex + 1);
        }}
        breakpoints={{
          960: {
            slidesPerView: 3,
            spaceBetween: 40
          }
        }}
      >
        <div className={styles.slider_head}>
          <p className={styles.slider_head_title}>другие проекты</p>

          <div className={styles.slider_head_controls}>
            <Prev />
            <Next total={PROJECTS.length} />
          </div>
        </div>

        {PROJECTS.map((slide, idx) => (
          <SwiperSlide key={idx} className={styles.slider_slide} data-test={idx}>
            <img src={slide.img} alt="img" />
            <div className={styles.slider_slide_info}>
              <p className={styles.slider_slide_info_title}>{slide.name}</p>
              <div className={styles.slider_slide_info_sub}>
                <span>{slide.address}</span>
                <span data-dot={1}></span>
                <span>{slide.class}</span>
                <span data-dot={1}></span>
                <span>{slide.timeEnd}</span>
              </div>
            </div>
          </SwiperSlide>
        ))}
      </Swiper>
    </>
  );
};

const Prev = () => {
  const swiper = useSwiper();

  return (
    <div
      className={styles.slider_button_prev}
      data-disabled={swiper.activeIndex === 0}
      onClick={() => swiper.slidePrev()}
    >
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
        <path
          d="M26.6667 16H5.33337M5.33337 16L13.3334 24M5.33337 16L13.3334 8"
          stroke="currentColor"
          strokeWidth="1.4"
          strokeLinecap="round"
          strokeLinejoin="round"
        />
      </svg>
    </div>
  );
};

const Next = (props: any) => {
  const swiper = useSwiper();

  const slidesPerView = swiper.params.slidesPerView;

  return (
    <div
      className={styles.slider_button_next}
      data-disabled={props.total === swiper.activeIndex + Number(slidesPerView)}
      onClick={() => swiper.slideNext()}
    >
      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="icon-arrow-narrow-right">
          <path
            id="Icon"
            d="M5.33325 16H26.6666M26.6666 16L18.6666 8M26.6666 16L18.6666 24"
            stroke="currentColor"
            strokeWidth="1.4"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </g>
      </svg>
    </div>
  );
};
